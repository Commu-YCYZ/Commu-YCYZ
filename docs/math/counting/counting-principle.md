---
comments: true
---

!!! warning "需要审核"
    - 本页面没有经过除作者以外的人的审核。
    - 本页面可能包含知识性错误。
    - 欢迎参与修改页面！

## 分类加法和分步乘法

### 定义

**分类加法**：完成一件事有两类方案，在第一类方案中有 $m$ 种不同的方法，在第二类方案中有 $n$ 种不同的方法，那么完成这件事共有 $m+n$ 种不同的方法。

**推广**：完成一件事有 $n$ 类方案，每类方案分别有 $m_1,m_2,\dots,m_n$ 种方法，则完成这件事总共有 $m_1+m_2+\dots+m_n$ 种不同的方法。

![分类加法的例子](https://great.wzznft.com/i/2023/02/05/12i5aiq.jpg)

---

**分步乘法**：完成一件事需要两个步骤，做第一步有 $m$ 种不同的方法，做第二步有 $n$ 种不同的方法，那么完成这件事共有 $m\cdot n$ 种不同的方法。

**推广**：完成一件事分 n 步，每步的做法分别有 m1，m2……mn 种，那么完成这件事共有 N=m1× m2 × m3……×mn 种不同的方法。

![计算从 A 到 B 的所有路线](https://great.wzznft.com/i/2023/02/05/12i565c.jpg)

---

### 常见题型

#### 数字类问题

1. 满足题意的数字个数

这类题一般设问是在某一取值范围内的满足某一特征的数字。

这类问题一般比较 **简单**，**分情况挨个计算** 是一种很不错的选择。除此之外，**对称性** 也可以在遇到特定题目时帮助简化计算。

【例】所有两位数中，个位 > 十位的数有几个

【解】

-   **解法 1**：分类讨论

    我们对十位的数字分类讨论，当十位数是 1 时，个位可以是 2 到 9，共 8 种；当十位数是 2 时，个位可以是 3 到 9，共 7 种；以此类推，最后可以算出所有的情况共有 8+7+……+1=36 个

-   **解法 2**: 利用对称性

    我们可以思考这样一个问题：对于一个两位数，如果它的十位数比个位数大，那么将它的个位与十位交换后，十位数就比个位数要大。即，个位 > 十位的两位数和十位 < 个位的两位数个数应该相等。只是存在一种特殊情况：对于整十的数，如 20,30,40，将它们的个位与十位互换后就不再是两位数了，所以这种情况应该要除去（共 9 个数）。另外，十位和个位数相等的两位数也应该排除掉（共 9 个数）。因而，我们可以得出满足题设的两位数总共有（90-9-9）/2=36 个

    （注：在这道题里，由于不存在个位数为 0 的情况，所以结果为 36，如果题干改为十位 > 个位，那么解法 2 在做到最后时要再加 9）

1. 给定几个数字，求满足条件的排列情况（详见排列组合）

#### 立体几何相关

这类题 **没有什么公式化的做题技巧**，只能具体问题具体分析，我们能说的就是在讨论时不要忘了立体图形内部的可能.

【例】在一个长方体 ABCDEFGH 中，两个顶点确定的直线和四个顶点构成的平面平行的组数总共有几组？

![长方体 ABCD-EFGH](https://great.wzznft.com/i/2023/02/05/12rw60k.jpg)

【解】

我们按构成平面的不同进行分类：

-   ①长方体的表面

    我们以底边 ABCD 为例，与这个平面平行的直线共有 EF,EG,EH,FG,FH,GH 六条。而长方体的表面共有六个，故总共有 6×6 组

    ![](https://great.wzznft.com/i/2023/02/06/xno989.jpg)

    图 1.4 情况①
-   ②长方体的截面

    我们以截面 ABGH 为例，与这个平面平行的直线共有 EF,CD 两条。而长方体的截面共有六个，故总共有 6×2 组

    ![](https://great.wzznft.com/i/2023/02/06/xnod0r.jpg)

    图 1.5 情况②

    所以，共有 6×6+6×2=48 组

（注：立体几何千万不要忘了体内的图线）

#### 多面手问题

这类问题要先计算出多面手的数量，然后讨论选人时的不同的情况。一定要注意 **全是多面手的情况**。

【例】9 个人中，每个人至少会英/日语中的一种语言。其中 7 个人会英语，4 个人会日语，现在排两个人分别参加英语和日语比赛，请问有几种方法。

【解】：

-   首先，计算只会英语，只会日语和“多面手”的个数。不难得到，“多面手”有 2 人，只会英语的人有 5 个，只会日语的人有 2 个

-   下面我们分情况讨论：

    - ①只会英语的和只会日语的：总共有 5×2=10 种
    - ②只会英语的和“多面手”：总共有 5×2=10 种
    - ③只会日语的和“多面手”：总共有 2×2=4 种
    -   ④全派“多面手”：总共有

        ![](https://tudingtu.cn/i/2023/02/06/12x5d3x.jpg)
    - 所以，总共有 10+10+4+2=26 种

#### 电路题

【例】如同，已知该电路的电线只会在图中标记的四个点断开。若整个电路断路，那总共有多少种可能？

![](https://great.wzznft.com/i/2023/02/06/z6zjgy.jpg)

图 1.6 电路题题干

【解】：我们分情况讨论

- ①若 1 为断路，则总共有八种情况：其余均不断，2 断，3 断，4 断，23 断，24 断，34 断，234 断
- ②在 1 不是断路的情况下，若 2 为断路，则共有三种情况：3 断，4 断，34 断
- ③在 12 均不断的情况下，若 3 为断路，则总共有一种情况：4 断
- ④在 123 均不断的情况下，若 4 为断路，则总共有一种情况。

综上，断路的情况总共有 8+3+1+1=13 种

#### 因数题

【例】自然数 4320 有几个不同的正因数？

【解】

-   首先对 4320 分解质因数，可以得到

    ![](https://tudingtu.cn/i/2023/02/06/12x5lkb.jpg)

-   而 4320 的所有正因数都可以表示为

    ![](https://tudingtu.cn/i/2023/02/06/12x5la2.jpg)

-   其中

    ![](https://tudingtu.cn/i/2023/02/06/12x5seg.jpg)

-   即，m 有 6 种可能，n 有 4 种可能，p 有 2 种可能

-   所以，全部的正因数个数为 6×4×2=48 种

#### 涂色问题

##### ①基础类型

![](https://great.wzznft.com/i/2023/02/06/zpl7t9.jpg)

图 1.7 涂色问题的两种基础类型

**条形**：这种类型最为简单，只需按着顺序讨论即可

**扇形**：这种类型可以看做将一个条带的首位相连，所以相比于正常的条形需要额外考虑首尾两块颜色相同的情况。一般的讨论方法是 **间隔式讨论**

【例】用四种颜色填充下面的图形，要求每块只用一种颜色，且相邻两块的颜色不同，请问有几种涂法？

![](https://great.wzznft.com/i/2023/02/06/10klb26.jpg)

图 1.8 例题的图像

【解】：

-   将第一块颜色涂完之后，顺次往下涂，每一块旁边一块颜色已经确定，所以每一块只剩下三种情况。故，总情况为 4×3×3×3×3=324 种

    ![](https://great.wzznft.com/i/2023/02/06/10kl2f4.jpg)

    图 1.9 例题图解（数字为每一块可涂的颜色种类）

【例】用五种颜色填充下面的图形，要求每块只用一种颜色，且相邻两块的颜色不同，请问有几种涂法？

![](https://tudingtu.cn/i/2023/02/06/1128xoy.jpg)

图 1.10

【解】：

- ①若 A 和 C 的颜色相同，则共有 5×4×4=80 种
- ②若 A 和 C 的颜色不同，则共有 5×4×3×3=180 种
  所以，总共有 80+180=260 种

**（下面这道题需要一定的数列知识基础）**

【例】将一个圆分成 n 个扇形（n≥2），用四种颜色填充该的图形，要求每块只用一种颜色，且相邻两块的颜色不同，请问有几种涂法？

【解】：

- 当 n=2 时，有 4×3=12 种
-   我们前面说过，扇形可以理解为将条形的首尾连接。对分成 n 块的条形，其涂色种类数为

    ![](https://tudingtu.cn/i/2023/02/06/12x67tp.jpg)

- 而首尾颜色相同的情况，可以视为将圆分为 n-1 个扇形后的所有涂色种类。将两者作差，可以得到分成 n 个扇形的涂色种类。若设 n 个扇形的涂色种数为 an，则可以得到方程

  ![](https://tudingtu.cn/i/2023/02/06/12x68a1.jpg)

- 将这个方程转化一下后可以得到
  ![](https://tudingtu.cn/i/2023/02/06/12x6o5r.jpg)
  联立 a2=12 即可得到
  ![](https://tudingtu.cn/i/2023/02/06/12x6xmt.jpg)
  **（注意！这个结论是在颜色为 4 的情况下推导出来的！当总颜色数发生变化时，公式也会发生变化）**

##### ②衍生类型

这类问题在进行讨论时要注意色块填充的先后顺序，一般 **从接壤数较多的色块入手**

【例】用六种颜色填充下面的图形，要求每块只用一种颜色，且相邻两块的颜色不同，请问有几种涂法？

![](https://tudingtu.cn/i/2023/02/06/1288d85.jpg)

图 1.11

【解】：

这道题先将中间的 C 块填充后，剩余的图形其实就如同图 1.10，而 C 共 6 种情况。C 的颜色确定后相当于用五种颜色填充 A,B,D,E，因而可以直接利用图 1.10 的题目所得结论，总情况为 6×260=1560 种。

![](https://tudingtu.cn/i/2023/02/06/ama9be0.jpg)

图 1.12 将 C 先填充完后其实就和 1.10 的道理相同了

**（注：图 1.11 和四棱锥的道理相同）**

![](https://great.wzznft.com/i/2023/02/06/12dd26s.jpg)

图 1.13 四棱锥和图 1.11 的图形完全等价

【例】用四种颜色填充下面的图形，要求每块只用一种颜色，且相邻两块的颜色不同，请问有几种涂法？

![](https://tudingtu.cn/i/2023/02/06/12f35vp.jpg)

图 1.14

【解】：

由于这道题中 E 块和剩余四个块均接壤，所以这道题先填充 E 的颜色，总共有 4 种，随后依次填充 A,B,C,D 的颜色，分别有 3 种，2 种，2 种，2 种。因而这道题的颜色填充方法总共有 4×3×2×2×2=96 种

---

!!! summary "页面作者"
    [FBC](mailto:bochengfeng.phy@stu.pku.edu.cn)
